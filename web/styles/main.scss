@charset 'UTF-8';

// Variables
//------------------------------------------------------------------------------

$breakpoint-laptop: 1440px;
$breakpoint-tablet: 1024px;
$breakpoint-phablet: 736px;
$breakpoint-phone: 480px;

$font-base: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;

$size-base: 16px;
$size-header: 1.25rem;
$size-minor: .9375rem;
$size-button: .875rem;
$size-top: .75rem;

$rythm-tick: 1.6875rem;

$color-accent: #91BF65;
$color-accent-hover: #84B854;
$color-background: #fff;
$color-base: #333;
$color-border: #eee;
$color-minor: #777;
$color-error: #E5802B;
$color-movie: #fffce8;
$color-movie-open: #f5f5f5;
$color-input: #e6e8eb;

// Mixins
//------------------------------------------------------------------------------

@mixin clearfix() {
  &:after {
    content: '';
    display: table;
    clear: both;
  }
}

@mixin breakpoint($breakpoint) {
  @if $breakpoint == laptop {

    @media (max-width: $breakpoint-laptop) {
      @content;
    }

  } @else if $breakpoint == tablet {

    @media (max-width: $breakpoint-tablet) {
      @content;
    }

  } @else if $breakpoint == phablet {

    @media (max-width: $breakpoint-phablet) {
      @content;
    }

  } @else if $breakpoint == phone {

    @media (max-width: $breakpoint-phone) {
      @content;
    }

  }
}

// Reset
//------------------------------------------------------------------------------

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  font: inherit;
  font-size: 100%;
}

article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
  display: block;
}

body {
  line-height: 1;
}

ol, ul {
  list-style: none;
}

blockquote, q {
  quotes: none;
}

blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}

table {
  border-spacing: 0;
  border-collapse: collapse;
}

// Base
//------------------------------------------------------------------------------

html {
  font-size: $size-base;

  &:before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    height: 3px;
    background: $color-accent;
  }
}

body {
  background: $color-background;
  margin: $rythm-tick * 2 auto;
  padding: 0 5%;
  max-width: 540px;
  color: $color-base;
  font-family: $font-base;
  line-height: $rythm-tick;
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

hr {
  display: none;
}

a {
  display: inline-block;
  text-decoration: none;
  position: relative;
  color: $color-base;

  &:after {
    content: '';
    position: absolute;
    right: 0;
    bottom: .2rem;
    left: 0;
    border-bottom: .075rem solid $color-border;
  }

  &:hover,
  &:focus {
    color: $color-accent-hover;
  }

  &:hover:after,
  &:focus:after {
    border-color: $color-accent-hover;
  }
}

// Common
//------------------------------------------------------------------------------

.is-loading {
  position: relative;

  &:after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: rgba(255, 255, 255, .75);
  }
}

.container {
  position: relative;
  left: $rythm-tick * 1.5;

  > :first-child ~ * {
    margin-top: $rythm-tick * 2;
  }
}

// Form
//------------------------------------------------------------------------------

.form {
  fieldset {
    position: relative;
  }

  input[type='text'],
  input[type='email'],
  input[type='submit'] {
    box-sizing: border-box;
    border-radius: 2px;
    display: block;
    font-family: $font-base;
  }

  input[type='text'],
  input[type='email'] {
    padding: 10px 100px 10px 20px;
    height: $rythm-tick * 2;
    width: 100%;
    font-size: 1rem;
    color: $color-base;
    border: 0;
    background: $color-input;
  }

  input[type='submit'] {
    position: absolute;
    top: 4px;
    right: 4px;
    bottom: 4px;
    padding: 0 10px;
    font-size: $size-button;
    color: #fff;
    background: $color-accent-hover;
    border: 0;
    cursor: pointer;

    &:hover,
    &:focus {
      background: #83b94e;
    }

    &[disabled='disabled'],
    &[disabled='disabled']:hover,
    &[disabled='disabled']:focus {
      background: $color-accent-hover;
      opacity: .75;
    }
  }

  p {
    margin-top: $rythm-tick;
    line-height: $rythm-tick;
  }

  &__error {
    color: $color-error;
  }

  &__success {
    color: #7eb95d;
  }
}

// Header
//------------------------------------------------------------------------------

.header {
  position: relative;

  h1 {
    position: absolute;
    top: 0;
    right: 100%;
    margin-right: $rythm-tick;
    line-height: $rythm-tick * 2;

    a {
      img {
        width: $rythm-tick * 2;
        vertical-align: middle;
      }

      &:after {
        display: none;
      }

      &:hover {
        opacity: .75;
      }
    }
  }
}

.top {
  position: absolute;
  right: 0;
  bottom: 100%;
  margin: ($rythm-tick / 2) 0;
  font-size: $size-top;

  a {
    color: #aaa;

    &:hover,
    &:focus {
      color: $color-accent-hover;
    }
  }
}

// Text
//------------------------------------------------------------------------------

.text {
  > :first-child ~ * {
    margin-top: $rythm-tick;
  }

  h2 {
    font-weight: bold;
    font-size: $size-header;
    color: #111;
  }

  strong {
    font-weight: bold;
  }

  em {
    font-style: italic;
  }

  del {
    text-decoration: line-through;
  }
}

// Movie
//------------------------------------------------------------------------------

.movie {
  margin: (-$rythm-tick) (-$rythm-tick) (-$rythm-tick) (-$rythm-tick * 4);
  padding: $rythm-tick $rythm-tick $rythm-tick ($rythm-tick * 4);
  position: relative;
  min-height: 80px;
  cursor: pointer;

  + .movie {
    margin-top: $rythm-tick;
  }

  img {
    position: absolute;
    top: $rythm-tick;
    left: $rythm-tick;
    margin-right: $rythm-tick;
    width: $rythm-tick * 2;
    border-radius: 2px;
  }

  h1 {
    font-weight: bold;
    font-size: $size-header;
    color: #111;
  }

  &__release-date {
    time {
      font-weight: bold;
    }

    &--unavailable {
      color: $color-error;
    }
  }

  &__synopsis,
  &__info {
    font-size: $size-minor;
    color: $color-minor;
  }

  &__synopsis a,
  &__info a {
    color: $color-minor;
  }

  &__synopsis a:hover,
  &__synopsis a:focus,
  &__info a:hover,
  &__info a:focus {
    color: $color-accent-hover;
  }

  &__synopsis {
    margin-top: $rythm-tick;
  }

  &__info {
    margin: $rythm-tick 0;
  }

  &__subscribe {
    display: none;
  }

  &:hover {
    background: $color-movie;
  }

  &.is-open {
    background: $color-movie-open;
    cursor: default;
  }

  &.is-open &__details {
    display: none;
  }

  &.is-open &__subscribe {
    display: block;
  }
}

// Notifications
//------------------------------------------------------------------------------

.notification {
  position: relative;
}
